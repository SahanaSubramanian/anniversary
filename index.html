<!DOCTYPE html>
<html>
<head>
  <title>❤️</title>
  <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: "Courier New", monospace;
      background-color: #000; /* First page black */
      color: #fff;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      padding: 20px;
      font-size: 32px;
      text-align: left;
      overflow: auto;
      transition: background-color 0.5s ease;
      position: relative;
      margin: 0;
    }

    .line { display: block; }
    .cursor { display: inline-block; width: 10px; background-color: #fff; margin-left: 2px; animation: blink 1s step-start infinite; }
    @keyframes blink { 50% { background-color: transparent; } }

    #preGalleryMessage { display: none; font-size: 36px; color: #fff; margin-top: 20px; }

    .gallery {
      display: none;
      width: 100%;
      column-count: 4;
      column-gap: 20px;
      margin-top: 20px;
    }
    .gallery img {
      width: 100%;
      height: auto;
      margin-bottom: 20px;
      border: 3px solid #fff;
      border-radius: 10px;
      cursor: pointer;
      object-fit: cover;
    }

    .backBtn {
      display: none;
      font-size: 24px;
      padding: 10px 20px;
      background-color: #ff69b4;
      color: #fff;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 10px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    }

    #modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    #modal img {
      max-width: 90%;
      max-height: 90%;
      border: 5px solid #fff;
      border-radius: 10px;
    }

    #hiPage { display: none; margin-top: 20px; font-size: 48px; }

    #popupText {
      display: none;
      position: fixed;
      bottom: 30px;
      left: 30px;
      background: #ff69b4;
      color: white;
      border: 2px solid white;
      padding: 15px 20px;
      font-size: 20px;
      border-radius: 10px;
      z-index: 1100;
    }

    /* Timeline page */
    #timelinePage {
      display: none; /* hide initially */
      width: 100%;
      min-height: 100vh;
      background-color: #b18c65; /* wood-like hex color */
      padding: 20px;
      box-sizing: border-box;
      margin: 0;
    }
    #timelinePage h2 { font-size: 36px; margin: 0 0 20px 0; }
    #timelineContainer {
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
    }

    /* Polaroid styles */
    .polaroid {
      width: 220px;  /* uniform width */
      height: 300px; /* uniform height to prevent cropping issues */
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      overflow: hidden;
      background: white;
      padding: 12px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
      border-radius: 4px;
      position: relative;
      transition: transform 0.25s ease;
      cursor: pointer;
    }
    .polaroid img {
      width: 100%;
      height: 200px;       /* fixed height for uniform images */
      object-fit: cover;
      border-radius: 4px;
    }

    .polaroid .caption {
      font-family: 'Shadows Into Light', cursive;
      font-size: 28px;
      text-align: center;
      margin-top: 8px;
      color: #000; /* ensures captions are visible */
    }

    .polaroid:hover { transform: rotate(-2deg) scale(1.03); }
    .polaroid:nth-child(odd) { transform: rotate(2deg); }
    .polaroid:nth-child(3n) { transform: rotate(-3deg); }

  </style>
</head>
<body>

  <!-- Terminal typing first page -->
  <div id="line1" class="line">&gt; </div><span class="cursor"></span>
  <div id="lineEllipsis1" class="line">&gt; </div>
  <div id="line2" class="line">&gt; </div>
  <div id="lineEllipsis2" class="line">&gt; </div>
  <div id="line3" class="line">&gt; </div>

  <div id="preGalleryMessage">&gt; </div>

  <!-- Galleries -->
  <div id="gallery1" class="gallery"></div>
  <button id="backGallery1" class="backBtn">Back to Timeline</button>

  <div id="gallery2" class="gallery"></div>
  <button id="backGallery2" class="backBtn">Back to Timeline</button>

  <div id="gallery3" class="gallery"></div>
  <button id="backGallery3" class="backBtn">Back to Timeline</button>

  <div id="gallery4" class="gallery"></div>
  <button id="backGallery4" class="backBtn">Back to Timeline</button>

  <!-- Black hi screen -->
  <div id="hiPage">&gt; <span id="hiText"></span><span class="cursor"></span></div>

  <!-- Timeline page -->
  <div id="timelinePage">
    <h2>&gt; the last year (and more)!</h2>
    <div id="timelineContainer"></div>
  </div>

  <!-- Modal -->
  <div id="modal"><img id="modalImg" src=""></div>

  <!-- Popup message -->
  <div id="popupText"><span id="popupMessage"></span></div>

  <script>
    const speed = 100;

    const firstMessage = "hi aarjav!!";
    const secondMessage = "happy anniversary ♥";
    const thirdMessage = "thank you for the best year :)";

    const gallery1Images = [
      "DSC04631 2.jpg","7D1472D5-32AC-465B-A4EA-64FC38100E76.jpg","DSC05596.jpg","IMG_3965.jpg",
      "lp_image 6.jpg","IMG_5903.jpg","IMG_6072.jpg","IMG_6878.jpg","IMG_7537.jpg","IMG_6655.jpg"
    ];
    const gallery2Images = [
      "IMG_3403.jpg", "DSC05935 2.JPEG", "DSC05852.JPEG","lp_image 10.jpg", "IMG_6730.jpg", "IMG_3635.jpg", "IMG_3586 2.jpg", "IMG_3510.jpg"
    ];
    const gallery3Images = [
      "DSC06497 2.jpg","DSC06548.JPEG","DSC06581.JPEG","IMG_5576.jpg","IMG_5847 2.jpg",
      "IMG_7739.jpg", "IMG_4805.jpg","E5AFD170-1924-420A-8399-5FEDEDDCAFD3IMG_5672 2.jpg", "IMG_4419.jpg", 
      "IMG_4659 2.jpg"  // replace with actual images for 3rd timeline polaroid
    ];
    const gallery4Images = [
      "DSC06789.JPEG","IMG_6803.jpg","IMG_6433.jpg","IMG_6727.jpg","IMG_6226.jpg",
      "IMG_7531.jpg","IMG_7435.jpg","13a13ef0-0289-4f66-bc71-9b2d82512147.jpg","IMG_6263.JPG"   // replace with actual images for 4th timeline polaroid
    ];

    // Timeline images with captions
    const timelineImages = [
      {file:"DSC04631 2.jpg", caption:"when i was friend-zoned"},
      {file:"IMG_6276.jpg", caption:"waxy winter"},
      {file:"IMG_5847.jpg", caption:"slurpy summer"},
      {file:"wood.jpg", caption:"flamboyant fall"},
      {file:"wood.jpg", caption:"delightful dates"},
      {file:"wood.jpg", caption:"floricious flowers"},
      {file:"wood.jpg", caption:"the aarjav archive"}

    ];

    const imageMessages = {
      "lp_image 5.jpg": "one of my favorite photos of you ever",
      "lp_image 6.jpg": "this photo was favorited in my camera roll before we were together... awk",
      "lp_image.jpg": "you being effortlessly perfect",
      "IMG_6276.jpg": "the day i realized i was in love with you",
      "IMG_6274.jpg": "you looked unreal here",
      "IMG_6273.jpg": "birthday boy (a date fully planned by me btw)",
      "IMG_6271.jpg": "i was so proud to be with you this day",
      "IMG_6269.jpg": "this photo makes me feel safe",
      "IMG_5847.jpg": "our first adventure together",
      "IMG_3965.jpg": "technically our very first photo together",
      "DSC04631 2.jpg": "soft launching the fact that u should bring the buzz back",
      "DSC05596.jpg": "ok jawline",
      "IMG_5903.jpg": "u and me except you swear i was kavya",
      "IMG_6072.jpg": "ur other bitch (mine too tho lol)",
      "IMG_6878.jpg": "yesss og gym trio",
      "IMG_7537.jpg": "baby photos",
      "IMG_6655.jpg": "love filled handmade bracelet pre encounter with washing machine",
      "7D1472D5-32AC-465B-A4EA-64FC38100E76.jpg": "traumatic",
      "IMG_3403.jpg":"our first photo together as a couple! abigail did not make the cut",
      "DSC05935 2.JPEG":"this was my favorite date ever (also a regular on the google home)",
      "DSC05852.JPEG": "an unfortunate series of events that happened to lead to us dating",
      "lp_image 10.jpg": "ur pfp!!",
      "IMG_6730.jpg": "us post-outing ourselves ( i like this photo even tho u dont)",
      "IMG_3635.jpg": "yay my vday safeway chocolate",
      "IMG_3586 2.jpg": "peak honeymoon era",
      "IMG_3510.jpg": "pretending we weren't dating",
      "DSC06497 2.jpg": "this is our best photo yet",
      "DSC06548.JPEG":"happy 6 months!!",
      "DSC06581.JPEG":"enchantments (our first relationship test)",
      "IMG_5576.jpg":"immediately post mcat",
      "IMG_5847 2.jpg":"out 15th thai tom adventure right after I came from india! ",
      "IMG_7739.jpg": "wow what a cute academic couple (my spam hard launch)",
      "IMG_4805.jpg":"my butt is so cute here",
      "E5AFD170-1924-420A-8399-5FEDEDDCAFD3IMG_5672 2.jpg":"wow maybe u actually like me",
      "IMG_4419.jpg": "5k i did not deserve to win :(", 
      "IMG_4659 2.jpg" : "was extremely mad at u but still locked in and took a cute photo",
      "DSC06789.JPEG": "locked in for the bf day post (must do the same for the anniversary)",
      "IMG_6803.jpg":"uniqlo princess",
      "IMG_6433.jpg":"yay 3/4ths of the way there!",
      "IMG_6727.jpg":"was mad at u but that was a recurring theme i fear (all my fault tho)",
      "IMG_6226.jpg":"i just remembered noel's nice friend who kavya hates took this",
      "IMG_7531.jpg":"gotta thank my momma",
      "IMG_7435.jpg":"are we a climbing couple now + my favorite double date couple",
      "13a13ef0-0289-4f66-bc71-9b2d82512147.jpg":"we r so aesthetic here and so festive",
      "IMG_6263.JPG":"at peace"




      
    };

    const galleries = [gallery1Images, gallery2Images, gallery3Images, gallery4Images];

    function typeMessage(elementId, message, callback){
      let index=0;
      function t(){
        if(index<message.length){ 
          document.getElementById(elementId).innerHTML+=message[index++]; 
          setTimeout(t,speed);
        } else if(callback) callback();
      }
      t();
    }

    function typeEllipsis(elementId, callback){
      const ellipsis = "...";
      let index=0;
      function t(){
        if(index<ellipsis.length){ 
          document.getElementById(elementId).innerHTML+=ellipsis[index++]; 
          setTimeout(t,speed);
        } else if(callback) setTimeout(callback,300);
      }
      t();
    }

    function startTyping(){
      typeMessage("line1", firstMessage, ()=>{
        typeEllipsis("lineEllipsis1", ()=>{
          typeMessage("line2", secondMessage, ()=>{
            typeEllipsis("lineEllipsis2", ()=>{
              typeMessage("line3", thirdMessage, showTimelinePage);
            });
          });
        });
      });
    }
    window.onload=startTyping;

    function showTimelinePage(){
      document.querySelectorAll('.line, .cursor').forEach(el=>el.style.display='none');
      const timelinePage = document.getElementById("timelinePage");
      const container = document.getElementById("timelineContainer");
      timelinePage.style.display="block";
      container.innerHTML = "";

      timelineImages.forEach((item, idx)=>{
        const polaroid = document.createElement("div");
        polaroid.className = "polaroid";

        const img = document.createElement("img");
        img.src = "images/" + item.file;

        const caption = document.createElement("div");
        caption.className = "caption";
        caption.innerText = item.caption;

        polaroid.appendChild(img);
        polaroid.appendChild(caption);

        polaroid.addEventListener("click", ()=>{
          showGallery(idx); // 0 → gallery1, 1 → gallery2, 2 → gallery3, 3 → gallery4
        });

        container.appendChild(polaroid);
      });
    }

    function showGallery(index){
      document.getElementById("timelinePage").style.display="none";

      const galleryDiv = document.getElementById("gallery"+(index+1));
      const backBtn = document.getElementById("backGallery"+(index+1));
      const images = galleries[index];

      galleryDiv.innerHTML = "";
      galleryDiv.style.display="block";
      backBtn.style.display = "inline-block";

      images.forEach(filename=>{
        const img = document.createElement("img");
        img.src = "images/" + filename;
        img.onclick = () => handleImageClick(filename, img.src);
        galleryDiv.appendChild(img);
      });

      backBtn.onclick = () => {
        galleryDiv.style.display = "none";
        backBtn.style.display = "none";
        showTimelinePage();
      }
    }

    function handleImageClick(filename, src){
      const modal = document.getElementById("modal");
      const modalImg = document.getElementById("modalImg");
      modalImg.src = src;
      modal.style.display = "flex";
      const cleanName = filename.trim();
      if (imageMessages[cleanName]) showPopupMessage(imageMessages[cleanName]);
    }

    function showPopupMessage(text){
      const popup = document.getElementById("popupText");
      const popupMessage = document.getElementById("popupMessage");
      popup.style.display = "block";
      popupMessage.innerHTML = "";
      let i = 0;
      function typeChar(){
        if(i<text.length){ 
          popupMessage.innerHTML += text[i++]; 
          setTimeout(typeChar, 60);
        }
      }
      typeChar();
      setTimeout(()=>{ popup.style.display="none"; }, 6000);
    }

    document.getElementById("modal").addEventListener("click", ()=>{
      document.getElementById("modal").style.display="none";
    });
  </script>
</body>
</html>
