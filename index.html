<!DOCTYPE html>
<html>
<head>
  <title>❤️</title>
  <style>
    /* --- GENERAL --- */
    body {
      font-family: "Courier New", monospace;
      background-color: #000; /* first screen black */
      color: #fff;
      margin: 0;
      padding: 20px;
      font-size: 32px;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
      transition: background-color 0.5s ease;
    }

    .line { display: block; }
    .cursor {
      display: inline-block;
      width: 10px;
      background-color: #fff;
      margin-left: 2px;
      animation: blink 1s step-start infinite;
    }
    @keyframes blink { 50% { background-color: transparent; } }

    /* --- POPUP --- */
    #popupText {
      display: none;
      position: fixed;
      bottom: 30px;
      left: 30px;
      background: #ff69b4;
      color: white;
      border: 2px solid white;
      padding: 15px 20px;
      font-size: 20px;
      border-radius: 10px;
      z-index: 1100;
    }

    /* --- GALLERIES & MODAL --- */
    .gallery {
      display: none;
      width: 100%;
      column-count: 4;
      column-gap: 20px;
      margin-top: 20px;
    }

    .backBtn {
      display: none;
      font-size: 24px;
      padding: 10px 20px;
      background-color: #ff69b4;
      color: #fff;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 10px;
    }

    #modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    #modal img {
      max-width: 90%;
      max-height: 90%;
      border: 5px solid #fff;
      border-radius: 10px;
    }

    /* --- TIMELINE --- */
    #timelinePage {
      display: none; /* hide on first screen */
      background-color: #b18c65; /* wood-like hex */
      width: 100%;
      min-height: 100vh;
      padding: 40px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #timelinePage h2 {
      font-size: 36px;
      margin-bottom: 30px;
      color: #fff;
    }

    #timelineContainer {
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
      justify-content: center;
    }

    /* --- POLAROID --- */
    .polaroid {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 220px;
      padding: 12px;
      background: white;
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
      border-radius: 4px;
      position: relative;
      cursor: pointer;
      transition: transform 0.25s ease;
    }

    .polaroid img {
      width: 100%;
      height: auto; /* maintain aspect ratio */
      border-radius: 2px;
    }

    .polaroid .caption {
      margin-top: 8px;
      font-family: "Brush Script MT", cursive;
      font-size: 18px;
      color: #333;
      text-align: center;
    }

    /* hover & tilt */
    .polaroid:hover {
      transform: rotate(-2deg) scale(1.03);
    }
    .polaroid:nth-child(odd) { transform: rotate(2deg); }
    .polaroid:nth-child(3n) { transform: rotate(-3deg); }

    /* --- FIRST SCREEN --- */
    #lineEllipsis1, #lineEllipsis2 { display: inline; }
  </style>
</head>
<body>

  <!-- Terminal typing first page -->
  <div id="line1" class="line">&gt; </div><span class="cursor"></span>
  <div id="lineEllipsis1" class="line">&gt; </div>
  <div id="line2" class="line">&gt; </div>
  <div id="lineEllipsis2" class="line">&gt; </div>
  <div id="line3" class="line">&gt; </div>

  <div id="preGalleryMessage">&gt; </div>

  <!-- Galleries -->
  <div id="gallery1" class="gallery"></div>
  <button id="backGallery1" class="backBtn">Back to Timeline</button>

  <div id="gallery2" class="gallery"></div>
  <button id="backGallery2" class="backBtn">Back to Timeline</button>

  <!-- Timeline page -->
  <div id="timelinePage">
    <h2>&gt; Our journey together</h2>
    <div id="timelineContainer"></div>
  </div>

  <!-- Modal -->
  <div id="modal"><img id="modalImg" src=""></div>

  <!-- Popup message -->
  <div id="popupText"><span id="popupMessage"></span></div>

  <script>
    const speed = 100;

    const firstMessage = "hi aarjav!!";
    const secondMessage = "happy anniversary ♥";
    const thirdMessage = "thank you for the best year :)";

    const gallery1Images = [
      "DSC04631 2.jpg","7D1472D5-32AC-465B-A4EA-64FC38100E76.jpg","DSC05596.jpg","IMG_3965.jpg",
      "lp_image 5.jpg","lp_image 6.jpg","lp_image.jpg","IMG_6276.jpg","IMG_5903.jpg","IMG_6072.jpg","IMG_6878.jpg",
      "IMG_7537.jpg","IMG_6655.jpg","IMG_6274.jpg","IMG_6273.jpg","IMG_6271.jpg","IMG_6269.jpg"
    ];

    const gallery2Images = [
      "IMG_5847.jpg","IMG_4659.jpg","IMG_3867.jpg","IMG_3586.jpg",
      "IMG_3084.jpg","IMG_2167.jpg","IMG_1292.jpg","DSC06549.jpg"
    ];

    const timelineImages = [
      "DSC04631 2.jpg","IMG_6276.jpg","IMG_5847.jpg","wood.jpg"
    ];

    const imageMessages = {
      "lp_image 5.jpg":"one of my favorite photos of you ever",
      "lp_image 6.jpg":"this smile still makes my heart melt",
      "lp_image.jpg":"you being effortlessly perfect",
      "IMG_6276.jpg":"the day i realized i was in love with you",
      "IMG_6274.jpg":"you looked unreal here",
      "IMG_6273.jpg":"birthday boy (a date fully planned by me btw)",
      "IMG_6271.jpg":"i was so proud to be with you this day",
      "IMG_6269.jpg":"this photo makes me feel safe",
      "IMG_5847.jpg":"our first adventure together"
    };

    const galleries = [gallery1Images, gallery2Images];

    // --- TYPING FUNCTIONS ---
    function typeMessage(elementId,message,callback){
      let i=0;
      function t(){
        if(i<message.length){ document.getElementById(elementId).innerHTML+=message[i++]; setTimeout(t,speed); }
        else if(callback) callback();
      }
      t();
    }

    function typeEllipsis(elementId,callback){
      const ellipsis="...";
      let i=0;
      function t(){ if(i<ellipsis.length){ document.getElementById(elementId).innerHTML+=ellipsis[i++]; setTimeout(t,speed);}
        else if(callback) setTimeout(callback,300);
      }
      t();
    }

    function startTyping(){
      typeMessage("line1",firstMessage,()=>{ typeEllipsis("lineEllipsis1",()=>{
        typeMessage("line2",secondMessage,()=>{ typeEllipsis("lineEllipsis2",()=>{
          typeMessage("line3",thirdMessage,showTimelinePage);
        }); });
      }); });
    }
    window.onload=startTyping;

    // --- TIMELINE ---
    function showTimelinePage(){
      document.querySelectorAll('.line,.cursor').forEach(el=>el.style.display='none');
      const container=document.getElementById("timelineContainer");
      document.getElementById("timelinePage").style.display="flex";
      container.innerHTML="";
      timelineImages.forEach(filename=>{
        const polaroid=document.createElement("div");
        polaroid.className="polaroid";

        const img=document.createElement("img");
        img.src="images/"+filename;
        img.onclick=()=>showGallery(filename==="DSC04631 2.jpg"||filename==="IMG_6276.jpg"?0:1);

        polaroid.appendChild(img);

        if(imageMessages[filename]){
          const caption=document.createElement("div");
          caption.className="caption";
          caption.innerText=imageMessages[filename];
          polaroid.appendChild(caption);
        }

        container.appendChild(polaroid);
      });
    }

    // --- GALLERY ---
    function showGallery(index){
      document.getElementById("timelinePage").style.display="none";
      const galleryDiv=index===0?document.getElementById("gallery1"):document.getElementById("gallery2");
      const backBtn=index===0?document.getElementById("backGallery1"):document.getElementById("backGallery2");
      const images=galleries[index];

      galleryDiv.innerHTML=""; galleryDiv.style.display="block"; backBtn.style.display="inline-block";

      images.forEach(filename=>{
        const img=document.createElement("img");
        img.src="images/"+filename;
        img.onclick=()=>handleImageClick(filename,img.src);
        galleryDiv.appendChild(img);
      });

      backBtn.onclick=()=>{
        galleryDiv.style.display="none";
        backBtn.style.display="none";
        showTimelinePage();
      }
    }

    // --- MODAL & POPUP ---
    function handleImageClick(filename,src){
      const modal=document.getElementById("modal");
      const modalImg=document.getElementById("modalImg");
      modalImg.src=src;
      modal.style.display="flex";
      const cleanName=filename.trim();
      if(imageMessages[cleanName]) showPopupMessage(imageMessages[cleanName]);
    }

    function showPopupMessage(text){
      const popup=document.getElementById("popupText");
      const popupMessage=document.getElementById("popupMessage");
      popup.style.display="block"; popupMessage.innerHTML="";
      let i=0;
      function typeChar(){ if(i<text.length){ popupMessage.innerHTML+=text[i++]; setTimeout(typeChar,60);} }
      typeChar();
      setTimeout(()=>{ popup.style.display="none"; },4000);
    }

    document.getElementById("modal").addEventListener("click",()=>{ document.getElementById("modal").style.display="none"; });

  </script>
</body>
</html>
